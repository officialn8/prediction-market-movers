(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[903],{9918:function(e,t,s){Promise.resolve().then(s.bind(s,8122))},3345:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(7461).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},9733:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(7461).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},7907:function(e,t,s){"use strict";var a=s(5313);s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},8122:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return y}});var a=s(3827),r=s(4090),l=s(7907),i=s(5032),n=s(9733),c=s(3345),o=s(7461);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,o.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),h=(0,o.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),x=(0,o.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),m=(0,o.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),u=(0,o.Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);var p=s(8792);function y(){let e=(0,l.useRouter)(),[t,s]=(0,r.useState)(null),[o,u]=(0,r.useState)([]),[y,j]=(0,r.useState)("1h"),[v,b]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let t=localStorage.getItem("token"),a=localStorage.getItem("user");if(!t||!a){e.push("/login");return}s(JSON.parse(a)),N(y)},[]),(0,r.useEffect)(()=>{t&&N(y)},[y]);let N=async e=>{b(!0);try{let t=await fetch("".concat("http://localhost:8000","/markets/movers?window=").concat(e,"&limit=20")),s=await t.json();u(s)}catch(e){console.error("Failed to fetch movers:",e)}finally{b(!1)}};return t?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-950",children:[(0,a.jsxs)("aside",{className:"fixed left-0 top-0 bottom-0 w-64 bg-gray-900 border-r border-gray-800 p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-8",children:[(0,a.jsx)(i.Z,{className:"w-8 h-8 text-primary-500"}),(0,a.jsx)("span",{className:"font-bold text-xl",children:"PMM"})]}),(0,a.jsxs)("nav",{className:"space-y-1",children:[(0,a.jsx)(g,{href:"/dashboard",icon:(0,a.jsx)(n.Z,{}),label:"Dashboard",active:!0}),(0,a.jsx)(g,{href:"/dashboard/alerts",icon:(0,a.jsx)(c.Z,{}),label:"My Alerts"}),(0,a.jsx)(g,{href:"/dashboard/watchlist",icon:(0,a.jsx)(i.Z,{}),label:"Watchlist"}),(0,a.jsx)(g,{href:"/dashboard/settings",icon:(0,a.jsx)(d,{}),label:"Settings"})]}),(0,a.jsxs)("div",{className:"absolute bottom-4 left-4 right-4",children:[(0,a.jsxs)("div",{className:"glass rounded-lg p-3 mb-3",children:[(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Current plan"}),(0,a.jsx)("div",{className:"font-medium capitalize",children:t.tier}),"free"===t.tier&&(0,a.jsx)(p.default,{href:"/pricing",className:"text-xs text-primary-400 hover:text-primary-300",children:"Upgrade â†’"})]}),(0,a.jsxs)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),e.push("/")},className:"flex items-center gap-2 text-gray-400 hover:text-white transition w-full px-3 py-2",children:[(0,a.jsx)(h,{className:"w-4 h-4"}),"Sign out"]})]})]}),(0,a.jsxs)("main",{className:"ml-64 p-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Dashboard"}),(0,a.jsxs)("p",{className:"text-gray-400",children:["Welcome back, ",t.name||t.email]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(x,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),(0,a.jsx)("input",{type:"text",placeholder:"Search markets...",className:"bg-gray-800 border border-gray-700 rounded-lg pl-10 pr-4 py-2 w-64 focus:outline-none focus:border-primary-500"})]}),(0,a.jsxs)(p.default,{href:"/dashboard/alerts/new",className:"bg-primary-600 hover:bg-primary-700 px-4 py-2 rounded-lg flex items-center gap-2 transition",children:[(0,a.jsx)(m,{className:"w-4 h-4"}),"New Alert"]})]})]}),(0,a.jsxs)("div",{className:"glass rounded-xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold",children:"Top Movers"}),(0,a.jsx)("div",{className:"flex gap-1 bg-gray-800 rounded-lg p-1",children:["1h","4h","24h"].map(e=>(0,a.jsx)("button",{onClick:()=>j(e),className:"px-3 py-1 rounded text-sm transition ".concat(y===e?"bg-primary-600 text-white":"text-gray-400 hover:text-white"),children:e},e))})]}),v?(0,a.jsx)("div",{className:"text-center py-12 text-gray-400",children:"Loading..."}):0===o.length?(0,a.jsx)("div",{className:"text-center py-12 text-gray-400",children:"No movers found"}):(0,a.jsx)("div",{className:"space-y-2",children:o.map(e=>(0,a.jsx)(f,{mover:e},e.token_id))})]})]})]}):null}function g(e){let{href:t,icon:s,label:r,active:l=!1}=e;return(0,a.jsxs)(p.default,{href:t,className:"flex items-center gap-3 px-3 py-2 rounded-lg transition ".concat(l?"bg-primary-600/20 text-primary-400":"text-gray-400 hover:text-white hover:bg-white/5"),children:[s,r]})}function f(e){let{mover:t}=e,s=t.price_change>0;return(0,a.jsxs)("div",{className:"flex items-center justify-between py-3 px-4 bg-white/5 rounded-lg hover:bg-white/10 transition",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"font-medium truncate max-w-md",children:t.title}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:t.outcome})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"font-mono",children:[(100*t.current_price).toFixed(0),"\xa2"]}),(0,a.jsxs)("div",{className:"text-sm flex items-center justify-end gap-1 ".concat(s?"text-green-400":"text-red-400"),children:[s?(0,a.jsx)(n.Z,{className:"w-3 h-3"}):(0,a.jsx)(u,{className:"w-3 h-3"}),s?"+":"",t.price_change.toFixed(1),"pp"]})]}),t.volume_24h&&(0,a.jsxs)("div",{className:"text-right ml-6 text-sm text-gray-400",children:["$",(t.volume_24h/1e3).toFixed(0),"k vol"]})]})}}},function(e){e.O(0,[701,971,69,744],function(){return e(e.s=9918)}),_N_E=e.O()}]);