[common]
restartPolicyType = "ON_FAILURE"

[[services]]
name = "api"
path = "."
dockerfile = "apps/api/Dockerfile"
healthcheckPath = "/health"
startCommand = "sh -c 'uvicorn apps.api.main:app --host 0.0.0.0 --port ${PORT:-8000}'"

[[services]]
name = "dashboard"
path = "."
dockerfile = "apps/dashboard/Dockerfile"
healthcheckPath = "/_stcore/health"
startCommand = "sh -c 'streamlit run apps/dashboard/app.py --server.port=${PORT:-8501} --server.address=0.0.0.0'"

[[services]]
name = "collector"
path = "."
dockerfile = "apps/collector/Dockerfile"
startCommand = "python -m apps.collector.main"
